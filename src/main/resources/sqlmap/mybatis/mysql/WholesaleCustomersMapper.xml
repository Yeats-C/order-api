<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aiqin.mgs.order.api.dao.wholesale.WholesaleCustomersDao">


    <select id="list" resultType="com.aiqin.mgs.order.api.domain.wholesale.WholesaleCustomers"
            parameterType="com.aiqin.mgs.order.api.domain.wholesale.WholesaleCustomers">
            SELECT
                customer_code as customerCode,
                customer_name as customerName,
                contact_person as contactPerson,
                phone_number as phoneNumber,
                identity_number as identityNumber,
                province_id as provinceId,
                province_name as provinceName,
                city_id as cityId,
                city_name as cityName,
                district_id as districtId,
                district_name as districtName,
                street_address as streetAddress,
                company_code as companyCode,
                company_name as companyName,
                use_status as useStatus,
                affiliated_company as affiliatedCompany,
                invite_people_code as invitePeopleCode,
                invite_people_name as invitePeopleName,
                create_by as createBy,
                update_by as updateBy,
                DATE_FORMAT( create_time, '%Y-%m-%d %h:%i:%s' ) createTime,
                DATE_FORMAT( update_time, '%Y-%m-%d %h:%i:%s' ) updateTime
            FROM
                wholesale_customers
            <where>
                1=1
                <if test="customerCode != '' and customerCode != null">
                    and customer_code = #{customerCode}
                </if>
                <if test="customerName != '' and customerName != null">
                    and customer_name = #{customerName}
                </if>
                <if test="phoneNumber != '' and phoneNumber != null">
                    and phone_number = #{phoneNumber}
                </if>
                <if test="provinceId != '' and provinceId != null">
                    and province_id = #{provinceId}
                </if>
                <if test="cityId != '' and cityId != null">
                    and city_id = #{cityId}
                </if>
                <if test="districtId != '' and districtId != null">
                    and district_id = #{districtId}
                </if>
                <if test="pageSize!=null ">
                    limit #{beginIndex,jdbcType=INTEGER}, #{pageSize,jdbcType=INTEGER}
                </if>
            </where>

    </select>
    <select id="totalCount" resultType="java.lang.Integer">
        SELECT
        COUNT(1)
        FROM
        wholesale_customers
        <where>
            1=1
            <if test="customerCode != '' and customerCode != null">
                and customer_code = #{customerCode}
            </if>
            <if test="customerName != '' and customerName != null">
                and customer_name = #{customerName}
            </if>
            <if test="phoneNumber != '' and phoneNumber != null">
                and phone_number = #{phoneNumber}
            </if>
            <if test="provinceId != '' and provinceId != null">
                and province_id = #{provinceId}
            </if>
            <if test="cityId != '' and cityId != null">
                and city_id = #{cityId}
            </if>
            <if test="districtId != '' and districtId != null">
                and district_id = #{districtId}
            </if>
        </where>
    </select>
</mapper>

